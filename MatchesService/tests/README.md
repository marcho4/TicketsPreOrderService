# Тесты для микросервиса матчей

В этой директории содержатся тесты для API микросервиса матчей, работающего на порту 8005.

## Структура тестов

- `unit/` - модульные тесты для проверки отдельных эндпоинтов API
- `integration/` - интеграционные тесты для проверки полного цикла работы с матчами
- `stress/` - тесты на нагрузку с использованием библиотеки Locust

## Требования

Для запуска тестов необходимо установить следующие зависимости:

```bash
pip install pytest requests locust
```

## Запуск тестов

### Модульные тесты

```bash
python -m pytest MatchesService/tests/unit -v
```

### Интеграционные тесты

```bash
python -m pytest MatchesService/tests/integration -v
```

### Запуск всех тестов (кроме нагрузочных)

```bash
python -m pytest MatchesService/tests/unit MatchesService/tests/integration -v
```

### Тесты на нагрузку

```bash
cd MatchesService/tests/stress
locust -f locustfile.py --host=http://localhost:8005
```

После запуска Locust откройте веб-интерфейс по адресу http://localhost:8089/ и настройте количество пользователей и скорость их создания.

## Примечания

- Перед запуском тестов убедитесь, что сервис матчей запущен и доступен по адресу http://localhost:8005
- Тесты создают и удаляют тестовые данные, поэтому не рекомендуется запускать их на продакшн-окружении 